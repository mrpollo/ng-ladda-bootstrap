// Generated by CoffeeScript 1.8.0

/*
 * AngularJS ladda-bootstrap directive
 * @author Ram√≥n Roche <mrpollo@gmail.com>
 * @version 0.1.0
 * @license MIT
 */


/*
global angular, Ladda
 */

(function() {
  'use strict';
  angular.module('ngLaddaBootstrap', []).directive('ngLaddaBootstrap', [
    '$timeout', function($timeout) {
      return {
        scope: {
          'laddaToggle': '='
        },
        link: function($scope, $element, $attrs) {
          return $timeout(function() {
            var ladda;
            ladda = Ladda.create($element[0]);
            return $scope.$watch('laddaToggle', function(newVal) {
              if (newVal) {
                if (!ladda.isLoading()) {
                  ladda.start();
                }
                if (angular.isNumber(newVal)) {
                  return ladda.setProgress(newVal / 100);
                }
              } else if (ladda.isLoading()) {
                return ladda.stop();
              }
            });
          });
        }
      };
    }
  ]);

}).call(this);
